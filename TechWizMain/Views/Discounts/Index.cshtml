    @model IEnumerable<TechWizMain.Models.Discount>

    @{
        ViewData["Title"] = "Index";
        Layout = "_AdminLayout";
    }

    <h1>Index</h1>

    <p>
        <a asp-action="Create">Create New</a>
    </p>
    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Percent)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DateBegin)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DateEnd)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
    @foreach (var item in Model) {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Percent)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DateBegin)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DateEnd)
                </td>
                <td>
                    <a class=" modal-edit" data-id="@item.Id">Edit</a> |
                    <a class=" open-modal-button" data-id="@item.Id">Details</a> |
                    <a class=" modal-delete" data-id="@item.Id">Delete</a> 
                </td>
            </tr>
    }
        </tbody>

    </table>





<div class=" modal fade" id="myModal" tabindex="-1" role="dialog">
    <div class="modal-dialog  modal-lg" role="document">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Modal Heading</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body">
                <div id="modal-content"></div>
            </div>


            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
            </div>
        </div>
    </div>
</div>



<script>
    //js xem detail
    $(document).ready(function () {
        $(".open-modal-button").click(function () {
            var id = $(this).data("id");
            $.ajax({
                url: "Discounts/Details", // Đường dẫn đến action Details
                type: "GET",
                data: { id: id },
                success: function (data) {
                    $("#modal-content").html(data); // Hiển thị nội dung trong cửa sổ popup
                    $("#myModal").modal("show"); // Mở cửa sổ popup
                }
            });
        });
    });

    //js edit
    $(document).ready(function () {
        $(".modal-edit").click(function () {
            var id = $(this).data("id");
            $.ajax({
                url: "Discounts/Edit", // Đường dẫn đến action Details
                type: "GET",
                data: { id: id },
                success: function (data) {
                    $("#modal-content").html(data); // Hiển thị nội dung trong cửa sổ popup
                    $("#myModal").modal("show"); // Mở cửa sổ popup
                }
            });
        });
    });

    //js delete
    $(document).ready(function () {
        $(".modal-delete").click(function () {
            var id = $(this).data("id");
            $.ajax({
                url: "Discounts/Delete", // Đường dẫn đến action Details
                type: "GET",
                data: { id: id },
                success: function (data) {
                    $("#modal-content").html(data); // Hiển thị nội dung trong cửa sổ popup
                    $("#myModal").modal("show"); // Mở cửa sổ popup
                }
            });
        });
    });

</script>




